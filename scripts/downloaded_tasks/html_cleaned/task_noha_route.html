<!DOCTYPE html>
<html>
  <head>
    <title>XCTrack route task file</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>

  <body style="margin: 5px">
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-8">
          <h3>XCTrack route task information</h3>
          <dl class="row">
            <dt class="col-3">File name:</dt>
            <dd class="col-9">noha</dd>
            <dt class="col-3">Created:</dt>
            <dd class="col-9">2025-07-08 14:33:20 UTC</dd>
            <dt class="col-3">Author:</dt>
            <dd class="col-9">steinerAir</dd>
            <dt class="col-3">Task distance</dt>
            <dd class="col-9">227.0km</dd>
          </dl>
        </div>
        <div class="col-12 col-lg-4 text-center">
          <figure class="figure">
            <figcaption class="figure-caption">
              Scan this code to XCTrack navigation
            </figcaption>
            <div>
              Task code:
              <b> noha </b>
              <small> (valid for 1 month) </small>
            </div>
            <div class="pt-2">
              <a
                class="btn btn-outline-primary"
                download="route_noha.xctsk"
                href="/api/xctsk/load/noha"
                role="button"
              >
                Download task
              </a>
            </div>
          </figure>
        </div>
      </div>
      <h4>Turnpoints</h4>
      <table class="table table-sm">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Distance (km)</th>
          </tr>
        </thead>
        <tbody>
          <tr class="table-primary">
            <th scope="row">1</th>
            <td>D01</td>
            <td>0.0</td>
          </tr>
          <tr>
            <th scope="row">2</th>
            <td>W09</td>
            <td>33.9</td>
          </tr>
          <tr>
            <th scope="row">3</th>
            <td>B10</td>
            <td>44.1</td>
          </tr>
          <tr>
            <th scope="row">4</th>
            <td>B55</td>
            <td>4.3</td>
          </tr>
          <tr>
            <th scope="row">5</th>
            <td>W07</td>
            <td>58.1</td>
          </tr>
          <tr>
            <th scope="row">6</th>
            <td>B32</td>
            <td>58.0</td>
          </tr>
          <tr>
            <th scope="row">7</th>
            <td>A31</td>
            <td>28.6</td>
          </tr>
          <tr class="table-danger">
            <th scope="row">8</th>
            <td>A31</td>
            <td>0.0</td>
          </tr>
        </tbody>
      </table>
      <div id="map" style="height: 600px"></div>
      <script>
        function initMap() {
          var bounds = new google.maps.LatLngBounds(
            new google.maps.LatLng({ lat: 46.125, lng: 12.625 }),
            new google.maps.LatLng({ lat: 46.31596321605918, lng: 13.375 })
          );
          var geojson = {
            type: "FeatureCollection",
            features: [
              {
                geometry: {
                  coordinates: [
                    [13.17567, 46.27383],
                    [12.79167, 46.125],
                    [13.33333, 46.25],
                    [13.33968, 46.28886],
                    [12.625, 46.125],
                    [13.375, 46.125],
                    [13.1129, 46.30697],
                    [13.1129, 46.30697],
                  ],
                  type: "LineString",
                },
                properties: { type: "optiline" },
                type: "Feature",
              },
              {
                geometry: {
                  coordinates: [
                    [
                      [13.17567, 46.28282321605918],
                      [13.176804149806433, 46.28278898855061],
                      [13.17792966382404, 46.282686566644635],
                      [13.17903797211599, 46.28251673021313],
                      [13.18012063594437, 46.282280772433225],
                      [13.181169412110876, 46.281980489926696],
                      [13.182176315798134, 46.28161816906094],
                      [13.183133681430066, 46.28119656851692],
                      [13.18403422108544, 46.28071889825734],
                      [13.18487108001775, 46.28018879505661],
                      [13.185637888857237, 46.27961029477975],
                      [13.186328812096773, 46.278987801622584],
                      [13.186938592492258, 46.278326054548884],
                      [13.187462591039917, 46.27763009118094],
                      [13.1878968222274, 46.27690520941988],
                      [13.188237984291877, 46.27615692708903],
                      [13.188483484257297, 46.27539093990844],
                      [13.18863145756286, 46.27461307812155],
                      [13.18868078213669, 46.273829262104734],
                      [13.188631086811021, 46.27304545729822],
                      [13.188482754018725, 46.272267628801565],
                      [13.188236916754503, 46.27150169597966],
                      [13.187895449827796, 46.27075348742429],
                      [13.187460955477752, 46.270028696613856],
                      [13.186936743463253, 46.26933283860821],
                      [13.186326805782741, 46.26867120810709],
                      [13.18563578621901, 46.2680488391908],
                      [13.184868944942922, 46.267470467048106],
                      [13.184032118447185, 46.26694049198154],
                      [13.18313167511598, 46.26646294596285],
                      [13.18217446676906, 46.266041461991406],
                      [13.18116777654863, 46.265679246487956],
                      [13.180119263544682, 46.26537905493206],
                      [13.179036904578544, 46.26514317092763],
                      [13.177928933585415, 46.26497338885483],
                      [13.176803779054566, 46.26487100023909],
                      [13.17567, 46.264836783940815],
                      [13.174536220945434, 46.26487100023909],
                      [13.173411066414586, 46.26497338885483],
                      [13.17230309542146, 46.26514317092763],
                      [13.171220736455318, 46.26537905493206],
                      [13.170172223451374, 46.265679246487956],
                      [13.169165533230943, 46.266041461991406],
                      [13.168208324884024, 46.26646294596285],
                      [13.167307881552818, 46.26694049198154],
                      [13.166471055057078, 46.267470467048106],
                      [13.165704213780993, 46.2680488391908],
                      [13.16501319421726, 46.26867120810709],
                      [13.164403256536747, 46.26933283860821],
                      [13.163879044522249, 46.270028696613856],
                      [13.163444550172207, 46.27075348742429],
                      [13.163103083245499, 46.27150169597966],
                      [13.162857245981275, 46.272267628801565],
                      [13.16270891318898, 46.27304545729822],
                      [13.162659217863311, 46.273829262104734],
                      [13.16270854243714, 46.27461307812155],
                      [13.162856515742705, 46.27539093990844],
                      [13.163102015708123, 46.27615692708903],
                      [13.163443177772603, 46.27690520941988],
                      [13.163877408960085, 46.27763009118094],
                      [13.164401407507746, 46.278326054548884],
                      [13.165011187903227, 46.278987801622584],
                      [13.165702111142766, 46.27961029477975],
                      [13.166468919982252, 46.28018879505661],
                      [13.167305778914562, 46.28071889825734],
                      [13.168206318569936, 46.28119656851692],
                      [13.169163684201868, 46.28161816906094],
                      [13.170170587889125, 46.281980489926696],
                      [13.171219364055634, 46.282280772433225],
                      [13.17230202788401, 46.28251673021313],
                      [13.17341033617596, 46.282686566644635],
                      [13.174535850193568, 46.28278898855061],
                      [13.17567, 46.28282321605918],
                      [13.17567, 46.28282321605918],
                    ],
                  ],
                  type: "Polygon",
                },
                properties: {
                  ctype: "WTakeoff",
                  index: 0,
                  radius: 0,
                  type: "cylinder",
                },
                type: "Feature",
              },
              {
                geometry: {
                  coordinates: [
                    [
                      [13.1129, 46.31596321605918],
                      [13.114034836458057, 46.31592898854413],
                      [13.115161031894004, 46.31582656661886],
                      [13.11627001117777, 46.31565673015584],
                      [13.117353330458005, 46.315420772333184],
                      [13.118402741541901, 46.31512048977395],
                      [13.11941025477468, 46.31475816884715],
                      [13.12036819993697, 46.31433656823556],
                      [13.1212692846938, 46.313858897904],
                      [13.122106650148183, 46.31332879462904],
                      [13.12287392307477, 46.31275029427794],
                      [13.123565264435108, 46.31212780104879],
                      [13.124175413804881, 46.311466053907566],
                      [13.124699729375374, 46.310770090478584],
                      [13.125134223225785, 46.310045208664846],
                      [13.125475591599562, 46.309296926291275],
                      [13.125721239956636, 46.30853093907921],
                      [13.12586930261365, 46.307753077273055],
                      [13.125918656825924, 46.30696926124978],
                      [13.125868931207584, 46.30618545644978],
                      [13.125720508429492, 46.30540762797244],
                      [13.125474522178413, 46.30464169518205],
                      [13.125132848404453, 46.30389348666943],
                      [13.124698090927106, 46.303168695911694],
                      [13.124173561513093, 46.302472837967095],
                      [13.123563254580747, 46.30181120753352],
                      [13.122871816726239, 46.30118883868919],
                      [13.122104511305816, 46.30061046662072],
                      [13.121267178345242, 46.30008049162839],
                      [13.120366190082553, 46.299602945681656],
                      [13.119408402482819, 46.29918146177772],
                      [13.11840110309355, 46.298819246335306],
                      [13.117351955636591, 46.29851905483208],
                      [13.11626894175655, 46.2982831708704],
                      [13.115160300366803, 46.29811338882905],
                      [13.114034465051963, 46.298011000232606],
                      [13.1129, 46.29797678394081],
                      [13.111765534948036, 46.298011000232606],
                      [13.110639699633197, 46.29811338882905],
                      [13.10953105824345, 46.2982831708704],
                      [13.108448044363408, 46.29851905483208],
                      [13.10739889690645, 46.298819246335306],
                      [13.10639159751718, 46.29918146177772],
                      [13.105433809917445, 46.299602945681656],
                      [13.104532821654757, 46.30008049162839],
                      [13.103695488694184, 46.30061046662072],
                      [13.102928183273761, 46.30118883868919],
                      [13.102236745419253, 46.30181120753352],
                      [13.101626438486905, 46.302472837967095],
                      [13.101101909072893, 46.303168695911694],
                      [13.100667151595545, 46.30389348666943],
                      [13.100325477821585, 46.30464169518205],
                      [13.100079491570508, 46.30540762797244],
                      [13.099931068792415, 46.30618545644978],
                      [13.099881343174076, 46.30696926124978],
                      [13.09993069738635, 46.307753077273055],
                      [13.100078760043363, 46.308530939079205],
                      [13.100324408400438, 46.309296926291275],
                      [13.100665776774214, 46.310045208664846],
                      [13.101100270624626, 46.310770090478584],
                      [13.101624586195117, 46.311466053907566],
                      [13.102234735564892, 46.31212780104879],
                      [13.102926076925229, 46.31275029427794],
                      [13.103693349851817, 46.31332879462904],
                      [13.104530715306197, 46.313858897904],
                      [13.10543180006303, 46.31433656823556],
                      [13.10638974522532, 46.31475816884715],
                      [13.107397258458098, 46.31512048977395],
                      [13.108446669541992, 46.315420772333184],
                      [13.10952998882223, 46.31565673015584],
                      [13.110638968105995, 46.31582656661886],
                      [13.11176516354194, 46.31592898854413],
                      [13.1129, 46.31596321605918],
                      [13.1129, 46.31596321605918],
                    ],
                  ],
                  type: "Polygon",
                },
                properties: {
                  ctype: "WGoal",
                  index: 7,
                  radius: 0,
                  type: "cylinder",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.17567, 46.27383], type: "Point" },
                properties: {
                  ctype: "WTakeoff",
                  index: 0,
                  name: "D01",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [12.79167, 46.125], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 1,
                  name: "W09",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.33333, 46.25], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 2,
                  name: "B10",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.33968, 46.28886], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 3,
                  name: "B55",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [12.625, 46.125], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 4,
                  name: "W07",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.375, 46.125], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 5,
                  name: "B32",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.1129, 46.30697], type: "Point" },
                properties: {
                  ctype: "WNoType",
                  index: 6,
                  name: "A31",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
              {
                geometry: { coordinates: [13.1129, 46.30697], type: "Point" },
                properties: {
                  ctype: "WGoal",
                  index: 7,
                  name: "A31",
                  radius: 0,
                  type: "turnpoint",
                },
                type: "Feature",
              },
            ],
            properties: { centerDistance: 227.00844860283289 },
          };
          map = new google.maps.Map(document.getElementById("map"), {
            center: new google.maps.LatLng({ lat: 46.22048160802959, lng: 13 }),
            mapTypeId: "terrain",
          });
          map.fitBounds(bounds);
          map.data.addGeoJson(geojson);
          map.data.setStyle(function (feature) {
            var vtype = feature.getProperty("type");
            if (vtype == "optiline") {
              return {
                strokeColor: "red",
                strokeWeight: 2,
              };
            } else if (vtype == "cylinder") {
              var ctype = feature.getProperty("ctype");
              if (ctype == "WESS" || ctype == "WSSS") {
                return {
                  strokeColor: "blue",
                  strokeWeight: 1,
                  fillColor: "blue",
                  fillOpacity: 0.3,
                };
              } else if (ctype == "WGoal") {
                return {
                  strokeColor: "red",
                  strokeWeight: 1,
                  fillColor: "red",
                  fillOpacity: 0.3,
                };
              } else {
                return {
                  strokeColor: "black",
                  strokeWeight: 1,
                  fillColor: "none",
                  fillOpacity: 0,
                };
              }
            }
          });
        }
      </script>
      <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBE0XRFsW7mGynvwbjX2bwncXVjK3A_okI&amp;sensor=false&amp;callback=initMap"
        type="text/javascript"
      ></script>
    </div>
  </body>
</html>
